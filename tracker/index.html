
<!DOCTYPE html>
<html>
<head>
    <title>Task Tracker Pro - Shiv Suri</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .intensity-1 { border-left: 4px solid #fecaca; box-shadow: 0 2px 4px #fee2e2; }
        .intensity-10 { border-left: 12px solid #dc2626; box-shadow: 0 8px 15px #f87171; }
    </style>
</head>
<body class="bg-gray-50 p-6">
    <header class="flex justify-between items-center mb-8 bg-white p-4 rounded-lg shadow-sm">
        <h1 class="text-2xl font-bold text-blue-800">ðŸš€ Task Tracker Pro</h1>
        <div id="stats" class="space-x-4">
            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded">Pending: <b id="pendingCount">0</b></span>
            <span class="bg-green-100 text-green-800 px-3 py-1 rounded">Completed: <b id="completedCount">0</b></span>
        </div>
    </header>

    <div class="grid grid-cols-12 gap-6">
        <aside class="col-span-3 bg-white p-4 rounded-lg shadow-md h-fit">
            <h2 class="text-lg font-bold border-b pb-2 mb-4">ðŸ“… Today's Focus</h2>
            <div id="todayPane" class="text-sm space-y-3">
                </div>
        </aside>

        <main class="col-span-9">
            <div class="mb-4 flex gap-2">
                <select id="roleFilter" class="p-2 border rounded">
                    <option value="ALL">All Roles</option>
                    <option value="SCHOOL-VP">School (VP)</option>
                    <option value="VARMAN METALS-VM">Varman Metals</option>
                    <option value="COACHING-TUTION">Coaching</option>
                </select>
                <input type="text" id="searchInput" placeholder="Search tasks or updates..." class="flex-grow p-2 border rounded">
            </div>

            <div id="taskGrid" class="grid grid-cols-2 gap-4">
                </div>
        </main>
    </div>

    <script>
        const WEB_APP_URL = "YOUR_DEPLOYED_URL_HERE";

        async function fetchTasks() {
            const response = await fetch(WEB_APP_URL);
            const data = await response.json();
            renderTasks(data.mainTasks);
        }

        function renderTasks(tasks) {
            const grid = document.getElementById('taskGrid');
            grid.innerHTML = tasks.map(task => `
                <div class="bg-white p-4 rounded-lg shadow intensity-${task.ColorIntensity}">
                    <div class="flex justify-between">
                        <span class="text-xs font-bold text-gray-500">${task.Source}</span>
                        <span class="text-xs bg-gray-100 px-2 rounded">${task.Mode}</span>
                    </div>
                    <h3 class="font-bold text-lg mt-1">${task.TaskTitle}</h3>
                    <p class="text-sm text-gray-600">${task.Details}</p>
                    <div class="mt-4 flex justify-between items-center text-xs">
                        <span class="text-red-600 font-semibold">Due: ${task.Deadline}</span>
                        <button class="bg-blue-600 text-white px-3 py-1 rounded">+ Update</button>
                    </div>
                </div>
            `).join('');
        }

        fetchTasks();
    </script>
</body>
</html>
